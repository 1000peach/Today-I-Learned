# 02. Dynamic Routes, next/link

## ğŸ“ Dynamic Routes

1. path : `/í´ë”ì´ë¦„/íŒŒì¼ëª…`
2. íŒŒì¼ëª…ì—ì„œ `[]`ë¥¼ `query`ë¡œ ë°›ì•„ì„œ ì‚¬ìš©
3. ìƒì„¸ í˜ì´ì§€ë¡œ ë„˜ì–´ê°ˆ ë•Œ ì£¼ë¡œ ì‚¬ìš©

```typescript
/* pages/view/[id].tsx */
/* path example : /view/1.tsx */

import { useRouter } from "next/dist/client/router";

function Test() {
  const router = useRouter();
  const { id } = router.query;

  return (
    <div>
        ...
    </div>
  );
}

export default Test;
```

## ğŸ“ next/link

1. a íƒœê·¸ì™€ ì‚¬ìš©ë²• ê°™ìŒ
2. ìƒˆë¡œê³ ì¹¨ ì—†ì´ í˜ì´ì§€ ì „í™˜
3. props
   * `href` : ì´ë™í•  path
   * `passHref` : `true` -> ë‚´ë¶€ í˜ì´ì§€ë¡œ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ì´ë™

```typescript
import React from "react";
import Link from "next/link";

import Item from "./Item";
import { ItemProps } from "../../pages/const/type";

function ItemList({ list = [] }) {
  return (
    <div>
      {list.map((item: ItemProps) => (
        <Link key={item.id} href={`/view/${item.id}`} passHref>
          <div>
            <Item item={item} />
          </div>
        </Link>
      ))}
    </div>
  );
}

export default ItemList;
```

## ğŸ“ useRouter
1. `useHistory`ì™€ ìœ ì‚¬
1. `const router = useRouter();`
   * `asPath` : ì‹¤ì œ ì£¼ì†Œ ex) `/view/1`
   * `pathname` : ë””ë ‰í„°ë¦¬ ì£¼ì†Œ ex) `/view/[id].tsx`
   * `query` : ì¿¼ë¦¬ params ex) `router.query.id`

```typescript
import React, { MouseEvent } from "react";
import { useRouter } from "next/dist/client/router";

function Gnb() {
  const router = useRouter();
  const { pathname } = router;

  const onMove = () => router.push("/");

  return (
    <div>
      <button onClick={onMove}>
        í™ˆ
      </button>
    </div>
  );
}

export default Gnb;
```

## âœ next/link, useRouter ì‚¬ìš© ì´ìœ 

1. `<a>` íƒœê·¸ë‚˜ `location.href` ì‚¬ìš© ì‹œ í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ ë˜ë©´ì„œ ì´ë™ -> ìš”ì²­ì´ ëŠ˜ì–´ë‚˜ì„œ SPA ì¥ì  ì‚¬ë¼ì§
2. ë‚´ìš©ì„ ìœ ì§€í•˜ë©´ì„œ í˜ì´ì§€ë¥¼ ì´ë™í•   ìˆ˜ ìˆìŒ


