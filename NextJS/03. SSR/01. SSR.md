# 01. SSR

1. NextJSëŠ” ëª¨ë“  í˜ì´ì§€ëŠ” ì‚¬ì „ ë Œë”ë§ ë¨
2. ì¢‹ì€ í¼í¬ë¨¼ìŠ¤, SEC ìš©ì´

## ğŸ“ ì‚¬ì „ ë Œë”ë§ Pre-rendering

`html íŒŒì¼ ìƒì„± ì‹œì `ì— ë”°ë¼ ë‘ ê°€ì§€ í˜•íƒœê°€ ìˆìŒ
1. ì •ì  ìƒì„±
2. Server Side Rendering (SSR, Dynamic Rendering)

### 1. ì •ì  ìƒì„±
> ì‚¬ìš©ì ìš”ì²­ ì „ ë¯¸ë¦¬ ìˆëŠ” í˜ì´ì§€. title, content ë“±ì´ ì¼ì •
1. í”„ë¡œì íŠ¸ê°€ ë¹Œë“œë˜ëŠ” ì‹œì ì— html íŒŒì¼ì´ ìƒì„±
2. ë§Œë“¤ì–´ë‘ê³  ëª¨ë“  ìš”ì²­ì— ì¬ì‚¬ìš©
3. ì •ì  ìƒì„±ëœ í˜ì´ì§€ë“¤ì€ CDNì— ìºì‹œë¨
4. í¼í¬ë¨¼ìŠ¤ ì´ìœ ë¡œ NextJSëŠ” ì •ì  ìƒì„± ê¶Œê³ 
5. ì‚¬ìš©ë²• : `getStaticProps` / `getStaticPaths`

### 2. SSR
> ë¸”ë¡œê·¸ ê²Œì‹œë¬¼, ì œí’ˆ ì‚¬ìš©ì„œ ë“±. title, content ë“±ì´ ë°”ë€œ
1. ë§¤ ìš”ì²­ë§ˆë‹¤ html ìƒì„± -> í•­ìƒ ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€í•¨
2. SEO, ë§í¬ ê³µìœ  ìµœì  (ë©”íƒ€ íƒœê·¸) 
3. ìš”ì²­ì´ ë§ì•„ì§€ê³  CDNì— ìºì‹œë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í¼í¬ë¨¼ìŠ¤ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŒ
4. ì‚¬ìš©ë²• :  `getServerSideProps`

## ğŸ‘©â€ğŸ’» getServerSideProps
```typescript
/* pages/view/detail.tsx */

function Detail({ item }: DetailProps) { // getServerSidePropsë°›ì€ props.item ì ‘ê·¼
  const { data } = item;
  const { name, description }: AddProps = data;

  return (
    <>
      {/* ì‘ë‹µ dataì— ë”°ë¼ ë©”íƒ€íƒœê·¸ ë³€ê²½ ê°€ëŠ¥ */}
      <Head>
        <title>{`${name} | ìƒì„¸`}</title>
        <meta name="description" content={description}></meta>
      </Head>
    </>
  );
}

export default Detail;

export async function getServerSideProps(context: ContextProps) {
  const { id } = context.params;
  const apiUrl = `http://makeup-api.herokuapp.com/api/v1/products/${id}.json`;

  try {
    const res = await axios.get(apiUrl);
    const item: ApiProps = { status: "success", data: res.data };

    return {
      props: {
        item
      }
    };
  } catch (err) {
    const item: ApiProps = { status: "error", data: { msg: err.message } };

    return {
      props: {
        item
      }
    };
  }
}
```
1. `context` : params ì •ë³´ ex) `id` ë“±...
2. `props` ë°˜í™˜ ì‹œ ì»´í¬ë„ŒíŠ¸ì—ì„œ `props`ë¡œ ë°›ì„ ìˆ˜ ìˆìŒ
3. ì„œë²„ì—ì„œ ë Œë”ë§ í›„ í‘œì‹œí•˜ê¸° ë•Œë¬¸ì— ë¡œë”© ìƒíƒœ ê´€ë¦¬ ë“±ì´ í•„ìš” ì—†ìŒ

