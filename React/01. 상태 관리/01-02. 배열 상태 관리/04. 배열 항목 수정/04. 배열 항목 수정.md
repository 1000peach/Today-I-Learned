# 04. ë°°ì—´ í•­ëª© ìˆ˜ì •

* ë°°ì—´ í•­ëª©ì„ ìˆ˜ì •í•  ë•Œë„ `map()` ì‚¬ìš©
* `map()`ì„ ì´ìš©í•˜ì—¬ ë°°ì—´ì—ì„œ ì¡°ê±´ì„ ë¹„êµí•˜ì—¬ ê° í•­ëª©ì— ì ‘ê·¼
	* ì¡°ê±´ ë§Œì¡± ì‹œ ìŠ¤í”„ë ˆë“œë¡œ ê°ì²´ë¥¼ ë³µì‚¬í•˜ê³  ì›í•˜ëŠ” ê°’ë§Œ ìˆ˜ì •
	* ì¡°ê±´ ë§Œì¡±í•˜ì§€ ì•Šì„ ì‹œ ì›ë˜ ê°’ ëŒ€ì…
* ì¶”í›„ ë‹¤ë£° immer.jsë¥¼ í†µí•´ ë” ì‰½ê²Œ ë¶ˆë³€ì„±ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ

## ğŸ’¬ ì˜ˆì œ
### 1. ì˜ˆì œ ì½”ë“œ ì¤‘ src/App.js
```javascript
import React, { useRef, useState } from "react";
import UserList from "./components/UserList";
import CreateUser from "./components/CreateUser";

function App() {
	const [users, setUsers] = useState([
		{
			id: "1",
			username: "1000peach",
			email: "sheissblack@gmail.com",
			active: true
		},
		{
			id: "2",
			username: "_970813",
			email: "_970813@daum.net",
			active: false
		},
		{
			id: "3",
			username: "970813_",
			email: "970813_@naver.com",
			active: false
		}
	]);

	const [inputs, setInputs] = useState({
		username: "",
		email: ""
	});

	const { username, email } = inputs;

	const onChange = (e) => {
		const { name, value } = e.target;

		setInputs({
			...inputs,
			[name]: value
		});
	};

	const nextId = useRef(4);

	const onCreate = () => {
		const user = {
			id: nextId.current,
			username,
			email
		};

		setUsers([...users, user]);

		setInputs({
			username: "",
			email: ""
		});

		nextId.current += 1;
	};

	const onRemove = (id) => {
		setUsers(users.filter((user) => user.id !== id));
	};

	const onToggle = (id) => {
		setUsers(
			users.map((user) =>
				user.id === id ? { ...user, active: !user.active } : user
			)
		);
	}; // ë°°ì—´ í•­ëª© ìˆ˜ì • ì‹œ map() ì‚¬ìš©
	
	return (
		<div className="App">
			<CreateUser
				username={username}
				email={email}
				onChange={onChange}
				onCreate={onCreate}
			/>
			<UserList users={users} onRemove={onRemove} onToggle={onToggle} />
		</div>
	);
}

export default App;
```
* ë°°ì—´ stateì¸ `users`ì— idê°’ê³¼ ì¼ì¹˜í•˜ëŠ” í•­ëª©ì˜ íŠ¹ì • ê°’(active)ì„ ìˆ˜ì •í•˜ëŠ” ì˜ˆì œ -> active ê°’ì— ë”°ë¼ ê¸€ì ìƒ‰ì´ ë°”ë€œ
	* `<UserList>`ì— propsë¡œ `users`ê³¼ `onToggle(id)`ë¥¼ ì „ë‹¬í•˜ì—¬ êµ¬í˜„
	* ë°°ì—´ í•­ëª©ì„ ìˆ˜ì •í•  ë•ŒëŠ” ìœ„ ì£¼ì„ê³¼ ê°™ì´ `map()`ê³¼ ìŠ¤í”„ë ˆë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©° ìˆ˜ì •

### 2. ì˜ˆì œ ì½”ë“œ ì¤‘ src/UserList.js ì¼ë¶€
```javascript
function User({ user, onRemove, onToggle }) {
	const { username, email, id, active } = user;

	return (
		<div>
			<b
				style={{
					color: active ? "green" : "black",
					cursor: "pointer"
				}}
				onClick={() => {
					onToggle(id);
				}}
			>
				{username}
			</b>
			&nbsp;
			<span>{email}</span>
			<button
				onClick={() => {
					onRemove(id);
				}}
			>
				ì‚­ì œ
			</button>
		</div>
	);
}
```
* `active`ì— ë”°ë¼ `<b>` íƒœê·¸ì˜ ê¸€ì ìƒ‰ì´ ë³€ê²½ë¨
* `<b>` íƒœê·¸ í´ë¦­ ì‹œ `onToggle(id)`ë¥¼ í˜¸ì¶œí•˜ì—¬ idì™€ ì¼ì¹˜í•˜ëŠ” ë°°ì—´ í•­ëª©ì˜ `active` ê°’ì„ ìˆ˜ì •í•¨ 