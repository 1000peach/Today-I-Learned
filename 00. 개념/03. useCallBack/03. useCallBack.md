# 03. useCallBack

* `useMemmo`ì™€ ìœ ì‚¬ -> `useCallBack`ì€ í•¨ìˆ˜ë¥¼ ì¬ì‚¬ìš©
* ì»´í¬ë„ŒíŠ¸ì— ì •ì˜ëœ í•¨ìˆ˜ë¥¼ ì¬ì‚¬ìš©, ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´

## âœ ì‚¬ìš© ë°©ë²•
```javascript
useCallBack(() => {
    // 1. ì‹¤í–‰ë  í•¨ìˆ˜
}, []); // 2. deps ë°°ì—´
```
* deps ë°°ì—´ ì•ˆì˜ ê°’ì— ì˜ì¡´í•˜ì—¬ depsê°€ ë°”ë€Œì—ˆì„ ë•Œë§Œ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ í•¨ìˆ˜ë¥¼ ì¬ì‚¬ìš©
* í•¨ìˆ˜ ì•ˆì—ì„œ props, stateë¥¼ ì‚¬ìš©í•˜ë©´ depsì— ì¶”ê°€í•´ì•¼ í•¨ -> ì¶”ê°€í•˜ì§€ ì•Šì„ ê²½ìš° í•¨ìˆ˜ê°€ ìµœì‹ ì´ ì•„ë‹Œ ì˜ˆì „ ìƒíƒœë¥¼ ì°¸ì¡°í•  ìˆ˜ë„
    * depsì— í•¨ìˆ˜ë„ ì¶”ê°€ ê°€ëŠ¥ ex) [{onDoSomething}]

## ğŸ’¬ ì‚¬ìš© ì˜ˆì‹œ
* `inputs(username, emial)`ì„ ì…ë ¥ë°›ì•„ `users` ë°°ì—´ì— ì¶”ê°€í•˜ëŠ” `onCreate()`
* idì™€ ì¼ì¹˜í•˜ëŠ” userë¥¼ ì‚­ì œí•˜ëŠ” `onRemove()`
```javascript
import React, { useRef, useState, useMemo, useCallback } from "react";
import UserList from "./components/UserList";
import CreateUser from "./components/CreateUser";

function App() {
	const [users, setUsers] = useState([
		{
			id: "1",
			username: "1000peach",
			email: "sheissblack@gmail.com",
			active: true
		},
		{
			id: "2",
			username: "_970813",
			email: "_970813@daum.net",
			active: false
		},
		{
			id: "3",
			username: "970813_",
			email: "970813_@naver.com",
			active: false
		}
	]);

	const [inputs, setInputs] = useState({
		username: "",
		email: ""
	});

	const { username, email } = inputs;
    
    /* ... ìƒëµ ... */

	const nextId = useRef(4);

	const onCreate = useCallback(() => {
		const user = {
			id: nextId.current,
			username,
			email
		};

		setUsers([...users, user]);

		setInputs({
			username: "",
			email: ""
		});

		nextId.current += 1;
	}, [username, email, users]); // username, email, usersì— ì˜ì¡´
	// username, emailì€ stateì¸ inputsì—ì„œ ë¶„í•´í•œ state ì´ë¯€ë¡œ deps ë°°ì—´ì— ì¶”ê°€ ê°€ëŠ¥
    
    /* ... ìƒëµ ... */

    const onRemove = useCallback(
		(id) => {
			setUsers(users.filter((user) => user.id !== id));
		},
		[users]
	); // usersì— ì˜ì¡´

    /* ... ìƒëµ ... */

	const count = useMemo(() => countActiveUsers(users), [users]);

	return (
		<div className="App">
			<CreateUser
				username={username}
				email={email}
				onChange={onChange}
				onCreate={onCreate}
			/>
			<UserList users={users} onRemove={onRemove} onToggle={onToggle} />
			<div>í™œì„± ì‚¬ìš©ì ìˆ˜ : {count}</div>
		</div>
	);
}

export default App;
```
* App ì»´í¬ë„ŒíŠ¸ì—ëŠ” `users`, `inputs` ë¼ëŠ” stateê°€ ì¡´ì¬í•¨
* `onCreate()`
    * `users`, `username`, `email`ì— ì˜ì¡´í•˜ì—¬ ì´ë“¤ì´ ë°”ë€Œì—ˆì„ ì‹œ ìƒˆë¡œ í•¨ìˆ˜ ìƒì„±
    * `users`, `username`, `email`ê°€ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ í•¨ìˆ˜ ì¬ì‚¬ìš©
* `onRemove()`
    * `users`ì— ì˜ì¡´, `users`ê°€ ë°”ë€Œë©´ ìƒˆë¡œ í•¨ìˆ˜ ìƒì„±
    * `users`ê°€ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ í•¨ìˆ˜ ì¬ì‚¬ìš©
* ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ë‹¨ê³„ì´ì§€ ë°”ë¡œ ìµœì í™” ë˜ì§€ëŠ” ì•ŠìŒ
    * stateê°€ ë°”ë€œì— ë”°ë¼ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì‘ì—…
    * ì¶”í›„ ì„±ëŠ¥ ìµœì í™” ì˜ˆì •ì„ ìœ„í•œ ë°œíŒ

## ğŸ”— ê´€ë ¨ ì½”ë“œ
* [ë°°ì—´ í•­ëª© ìˆ˜ì •](https://github.com/1000peach/React-Study/tree/master/02.%20%EB%B0%B0%EC%97%B4/04.%20%EB%B0%B0%EC%97%B4%20%ED%95%AD%EB%AA%A9%20%EC%88%98%EC%A0%95/src)